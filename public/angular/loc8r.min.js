(function(){angular.module("loc8rApp",["ngRoute"]);function o(o){o.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("loc8rApp").config(["$routeProvider",o])})();(function(){angular.module("loc8rApp").controller("homeCtrl",o);o.$inject=["$scope","loc8rData","geolocation"];function o(o,e,n){var t=this;t.pageHeader={title:"ParmaFindr",strapline:"Find the best chicken parmigiana near you!"};t.sidebar={content:"Looking for a great parma? ParmaFindr helps you find the best chicken parmigiana near you. Prefer the chips on the side or some ham on the top? ParmaFindr will help you find the taste you're looking for."};t.message="Checking your location";t.getData=function(o){var n=o.coords.latitude;var r=o.coords.longitude;t.message="Searching for nearby places";e.locationByCoords(n,r).success(function(o){t.message=o.length>0?"":"No locations found nearby";t.data={locations:o}}).error(function(o){t.message="Sorry, something's gone wrong"})};t.showError=function(e){o.$apply(function(){t.message=e.message})};t.noGeo=function(){o.$apply(function(){t.message="Geolocation is not supported by this browser."})};n.getPosition(t.getData,t.showError,t.noGeo)}})();(function(){angular.module("loc8rApp").service("geolocation",o);function o(){var o=function(o,e,n){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(o,e)}else{n()}};return{getPosition:o}}})();(function(){angular.module("loc8rApp").service("loc8rData",o);o.$inject=["$http"];function o(o){var e=function(e,n){return o.get("api/locations?lat="+e+"&lng="+n+"&maxDistance=20")};return{locationByCoords:e}}})();(function(){angular.module("loc8rApp").filter("formatDistance",e);function o(o){return!isNaN(parseFloat(o))&&isFinite(o)}function e(){return function(e){var n,t;if(e&&o(e)){if(e>1){n=parseFloat(e).toFixed(1);t="km"}else{n=parseInt(e*1e3,10);t="m"}return n+t}else{return"?"}}}})();(function(){angular.module("loc8rApp").directive("ratingStars",o);function o(){return{restrict:"EA",scope:{thisRating:"=rating"},templateUrl:"/common/directives/ratingStars/ratingStars.template.html"}}})();